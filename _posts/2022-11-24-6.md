---
title: "[Unity] ê³µê²© íŒì • ë° ë°ë¯¸ì§€ ì‹œìŠ¤í…œ ê°œë°œ"
# author: Night
date: 2022-11-24 10:50:00 +0900
categories: [Unity, Unity-Main]
tags: [Unity]
pin: false  # í•€ìœ¼ë¡œ ê³ ì • ì—­í• 
math: true
mermaid: true
# image:     # í¬ìŠ¤íŠ¸ ëŒ€í‘œ ì´ë¯¸ì§€
#  path: https://github.com/LeeKangW/LeeKangW.github.io/assets/48194683/7e5b8251-2544-4eea-b702-ad59aa404e9e
#  lqip: data:image/webp;base64,    UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
#  alt: Responsive rendering of Chirpy theme on multiple devices.
---

# 1\. ë¬´ê¸°ì— Collider ì„¤ì •

-   ë¬´ê¸°ì— BoxCollider ì„¤ì •
-   ì‹¤ì œ ë¬´ê¸°ë³´ë‹¤ ì¡°ê¸ˆ í¬ê²Œ ì„¤ì •í•˜ì—¬ ë°ë¯¸ì§€ ì˜ì—­ì„ ë³´ì •Â ![unity_image_03](/assets/img/post_imgs/Unity/Unity_img_03.png)
-   Is Triggerë„ í™œì„±í™” í•´ì¤€ë‹¤
    ![unity_image_04](/assets/img/post_imgs/Unity/Unity_img_04.png)

# 2\. eventë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„

-   eventë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„
-   [**event ì™€ delegateì˜ ì°¨ì´**](https://leekangw.github.io/posts/event-%EC%99%80-delegate-%EC%B0%A8%EC%9D%B4/)

## Player Script

-   delegate ì„ ì–¸

```cs
public delegate void AttackEventHandler(float damage);
```

-   eventë¥¼ í†µí•´ ì™¸ë¶€ì—ì„œ í˜¸ì¶œí•˜ì§€ ëª»í•˜ê²Œ ì„¤ì •

```cs
/// <summary>
/// Attack Call Back
/// </summary>
public event AttackEventHandler attackEventHandler;
```

-   eventë¥¼ í˜¸ì¶œí•˜ê³  nullë¡œ ì„¸íŒ…í•´ ê¸°ì¡´ ë‚´ìš©ì„ ì‚­ì œí•œë‹¤

```cs
/// <summary>
/// ì´ë²¤íŠ¸ ë©”ì†Œë“œë“¤ì„ í˜¸ì¶œí•œë‹¤
/// </summary>
void CallEventHandlerMethods()
{
    // ê³µê²© ì½œë°±
    if (attackEventHandler != null)
    {
        attackEventHandler(damage);
        attackEventHandler = null;
    }
}
```

## Weaponì— ë¶€ì°©ëœ Script

-   TriggerEnterë¥¼ ì´ìš©
-   ê³µê²©ì— ë§ì€ ê°ì²´ì— ì ìš© ë˜ì–´ì•¼ í•  ë©”ì†Œë“œë¥¼ Player Event Handlerì— ì¶”ê°€í•œë‹¤

```cs
private void OnTriggerEnter(Collider other)
{
    if (other.CompareTag(Helper.TagDictionary.GetTagName(Helper.TagDictionary.ETag.Enemy)))
    {
        Enemy enemy = other.GetComponent<Enemy>();
        player.attackEventHandler += enemy.Hit;
    }
}
```

-   enemy.Hitì— í•´ë‹¹í•˜ëŠ” ë©”ì†Œë“œ

```cs
public void Hit(float damage)
{
    hp -= damage;

    if (hp <= 0)
    {
        Helper.Debug.Log("ì  ì£½ìŒ");
    }
    else
        Helper.Debug.Log($"ë‚¨ì€ HP: {hp}");
}
```

# 3\. ê²°ê³¼

-   3ë²ˆ ì§¸ ê³µê²©ì— ì  ìºë¦­í„°ë¥¼ ëš«ê³  ì§€ë‚˜ê°€ ì ìš©ì´ ì•ˆë˜ì—ˆë‹¤Â ğŸ˜¥

{% include embed/youtube.html id='Aucv6Zahcqk' %}
